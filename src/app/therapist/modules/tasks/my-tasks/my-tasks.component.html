<app-spinner *ngIf="!spinnerStatus"></app-spinner>

<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12">
        <div class="div mt-3 mx-1">
          <h4 id="titulo"><fa-icon [icon]="iconMyTasks" class="icon-title"></fa-icon> Mis tareas</h4>
          <button type="button" class="btn btn-primary btn-sm"> <fa-icon [icon]="iconAdd"></fa-icon> Nueva
            tarea</button>
        </div>
        <br />
        <div class="parent-container">
          <div class="inputs-form">
            <form id="select">
              <select class="form-select" aria-label="Default select example" style="margin-bottom: 12px;">
                <option value="empresa" selected disabled> Filtrar por </option>
                <option value="ci">Título</option>
                <option value="nombre">Tiempo estimado</option>
                <option value="apellido">Tipo</option>
              </select>
            </form>
            <form id="search">
              <input class="form-control me-1" type="text" placeholder="Buscar..." name="buscarMovimientos">
            </form>

            <div class="botones-exportar">
              <button type="button" (click)="downloadPDF()" class="btn save-pdf" data-bs-toggle="mensaje"
                title="Exportar a PDF">
                <fa-icon [icon]="iconPdf"></fa-icon>
              </button>
              <button type="button" (click)="downloadXLSX()" class="btn save-xlsx" data-bs-toggle="mensaje" title="Exportar a XLSX">
                <fa-icon [icon]="iconXlsx"></fa-icon>
              </button>
            </div>
          </div>
        </div>

        <div class="card" id="htmlTablePDF">
          <div class="table-responsive table-scroll" data-mdb-perfect-scrollbar="true" style="position: relative;">
            <table class="table table-striped mb-0" id="htmlExcelTable">
              <thead>
                <tr>
                  <th scope="col">N°</th>
                  <th scope="col">Título</th>
                  <th scope="col">Tiempo estimado</th>
                  <th scope="col">Tipo</th>
                  <th scope="col">Fecha creación</th>
                  <th scope="col">Fecha actualización</th>
                  <th scope="col">Acciones</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngIf="arrayTasks.length > 0; else noResults">
                  <!-- <tr *ngFor="let task of arrayTasks; let i = index">
                    <th scope="row">{{i+1}}</th>
                    <td>{{task.title}}</td>
                    <td>{{task.estimatedTime + " minutos"}}</td>
                    <td>
                      <fa-icon [icon]="task.isPublic ? iconPublic : iconPrivate"></fa-icon> {{task.isPublic ? "Pública" : " Privada"}}
                    </td>
                    <td>{{task.createdAt}}</td>
                    <td>{{task.updatedAt}}</td>
                    <td class="acciones">
                      <fa-icon data-bs-toggle="mensaje" title="Ver detalles" id="iconVerDetalles" [icon]="iconVerDetalles"></fa-icon>
                      <fa-icon data-bs-toggle="mensaje" title="Editar" id="iconEditar" [icon]="iconEditar"></fa-icon>
                      <fa-icon data-bs-toggle="mensaje" title="Eliminar" id="iconEliminar" [icon]="iconEliminar"></fa-icon>
                    </td>
                  </tr> -->
                </ng-container>
                <ng-template #noResults>
                  <tr>
                    <td colspan="7" class="no-results">Sin resultados...</td>
                  </tr>
                </ng-template>
              </tbody>

            </table>
          </div>
        </div>
      </div>
      <!--Paginación-->
      <mat-paginator id="paginacion" [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="itemsForPage"
                [length]="arrayTasks.length" (page)="changePage($event)"></mat-paginator>
    </div>
  </div>
</body>